@using System.Configuration
@model EPMS.WebModels.ViewModels.Product.ProductListViewModel

@{
    ViewBag.Title = EPMS.WebModels.Resources.WebsiteClient.Catalogue.Catalogue.TitleCatalogue;
    Layout = "~/Views/Shared/_Layout.cshtml";
    var Date = DateTime.Now;
    var cpLink = ConfigurationManager.AppSettings["CpLink"];
    var direction = EPMS.WebModels.Resources.Shared.Common.TextDirection;
    int pageNo = 1;
}

<style>
    body {
        overflow: auto !important;
    }
</style>

<div id="page_header" class="gradient bottom-shadow">
    <div class="bgback bg3"></div>
    <div class="container">
        <div class="row">
            <div class="span6">
                <ul class="breadcrumbs fixclear">
                    <li><a href="/Home/Index">@EPMS.WebModels.Resources.WebsiteClient.Common.Common.HomePage</a></li>
                    <li><a href="/NewsAndArticle/Index/1">@EPMS.WebModels.Resources.WebsiteClient.Catalogue.Catalogue.TitleCatalogue</a></li>
                </ul>
                <span id="current-date">@Date.ToString("dddd, dd MMMM yyyy")</span>
            </div>
            <div class="span6">
                <div class="header-titles">
                    <h2>@EPMS.WebModels.Resources.WebsiteClient.Catalogue.Catalogue.TitleCatalogue</h2>

                </div>
            </div>
        </div><!-- end row -->
    </div>

    <div class="shadowUP"></div>
</div><!-- end page_header -->

<section id="content">
    <div class="container">
        <div id="mainbody">
            <div id="flipbook">
                @if (Model.Products != null && Model.Products.Any())
                {
                    foreach (var product in Model.Products)
                    {
                        <div style="background-image: url(/Images/Catalog.png)">
                            <form class="form-horizontal" id="validation_form">
                                <div class="container-fluid">
                                    <div class="control-group row-fluid">
                                        @if (!string.IsNullOrEmpty(product.DeptColor))
                                        {
                                            <div class="catalogDepartment" style="background-color: @product.DeptColor !important; color: white !important;">
                                                <h5 class="titleLeft" style="color: #ffffff !important; padding-left: 10px">
                                                    @(direction == "ltr" ? product.DepartmentNameEn : product.DepartmentNameAr)
                                                </h5>
                                                <h5 class="titleRight" style="color: #ffffff !important">@product.PathTillParent</h5>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="catalogDepartment" style="background-color: @product.DeptColor !important; color: white !important;">
                                                <h5 class="titleLeft" style="color: #000000 !important; padding-left: 10px">
                                                    @(direction == "ltr" ? product.DepartmentNameEn : product.DepartmentNameAr)
                                                </h5>
                                                <h5 class="titleRight" style="color: #000000 !important">@product.PathTillParent</h5>
                                            </div>
                                        }

                                        <div class="invoice-info">
                                            <div class="invoice-name" style="color:@product.DeptColor !important;">
                                                @if (product.ItemVariationId != null)
                                                {
                                                    <h3><span style="float: left">@product.ItemNameEn</span></h3>
                                                }
                                                else
                                                {
                                                    <h3><span style="float: left">@product.ProductNameEn</span></h3>
                                                }
                                            </div>
                                            @*<div class="controls" style="float: right">
                                                    <a href="javascript:print()" rel="tooltip" title="" data-original-title="Print statistics" class="print">
                                                        <i class="icon-print"></i>@EPMS.WebModels.Resources.WebsiteClient.Common.Common.Print
                                                    </a>
                                                </div>*@
                                            <br /><br /><br />
                                            <div>
                                                @if (string.IsNullOrEmpty(product.ItemImage))
                                                {
                                                    <img style="width: 195px; height: 195px; clear: both" src="@cpLink/Images/ItemImage/noimage_department.png" alt="user" class="">
                                                }
                                                else
                                                {
                                                    <img style="width: 195px; height: 195px; clear: both" src="@cpLink/Images/ItemImage/@product.ItemImage" alt="user" class="">
                                                }
                                            </div>
                                            <div class="control-group row-fluid">
                                                <div class="span12">
                                                    <div class="invoice-from">
                                                        <h3 style="color:@product.DeptColor !important;">@EPMS.WebModels.Resources.WebsiteClient.Catalogue.Catalogue.ProductDescription</h3>
                                                        @if (product.ItemVariationId != null)
                                                        {
                                                            <p style="text-align: justify"> @product.ItemDesc</p>
                                                        }
                                                        else
                                                        {
                                                            <p style="text-align: justify"> @product.ProductDescEn</p>
                                                        }
                                                    </div>
                                                    <h3 style="color:@product.DeptColor !important;">@EPMS.WebModels.Resources.WebsiteClient.Catalogue.Catalogue.ProductSpecification</h3>
                                                    <p style="text-align: justify">@product.ProductSpecificationEn</p>
                                                </div>
                                            </div>
                                        </div>
                                        @if (!string.IsNullOrEmpty(product.DeptColor))
                                        {
                                            <div class="catalogDepartment" style="background-color:@product.DeptColor !important; color:white !important;">
                                                <h5 class="" style="color:white !important;text-align:right;margin-right:5px;">@(pageNo++)</h5>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="catalogDepartment" style="background-color:#000000 !important;">
                                                <h5 class="" style="color:#ffffff !important;text-align:right;margin-right:5px;">@(pageNo++)</h5>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </form>
                        </div>
                    }
                }
            </div>

        </div><!-- end mainbody -->
    </div>
</section><!-- end #content -->


<script src="~/Scripts/turnjs.js"></script>
<script src="~/Scripts/turn.js"></script>
<link href="@Url.Content("~/Content/turnjs.css")" rel="stylesheet" type="text/css" />
<script type="text/javascript">

    function loadApp() {

        // Create the flipbook

        jQuery('#flipbook').turn({
            // Width

            width: 1200,

            // Height

            height: 850,

            // Elevation

            elevation: 50,

            // Enable gradients

            gradients: true,

            // Auto center this flipbook

            autoCenter: true,
        });
    }

    yepnope({
        test: Modernizr.csstransforms,
        yep: ['/scripts/turn.js'],
        complete: loadApp
    });

</script>
