@model EPMS.WebModels.ViewModels.Reports.CustomerCreateViewModel
@{
    ViewBag.Title = EPMS.WebModels.Resources.Reports.CustomerReport.DetailTitle;
    Layout = null;
    var direction = EPMS.WebModels.Resources.Shared.Common.TextDirection;
    var serial = 0;
}


<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">

    <title>@ViewBag.Title</title>

    <!-- shortcut icon -->
    <link rel="shortcut icon" href="~/Images/favicon.ico" />
    <link rel="stylesheet" href="~/Content/css/photon.css" media="all" />
    <link rel="stylesheet" href="~/Content/css/photon-pt2.css" media="all" />
    @*<link rel="stylesheet" href="~/Content/css/photon-responsive.css" media="all" />*@
    @*<link rel="stylesheet" href="~/Content/css/help-photon.css" media="all" />*@


    @if (EPMS.Web.Helper.CultureHelper.IsRighToLeft())
    {
        <link rel="stylesheet" href="~/Content/css/arabic.css" media="all" />
    }
    <link href="~/Content/CSS/styleIST.css" rel="stylesheet" media="all" />
    <!-- Calendar -->
    <link rel="stylesheet" href="~/Content/CSS/Admin/style/fullcalendar.css">
    <link href="~/Content/jquery.calendars.picker.css" rel="stylesheet" />

    <script type="text/javascript" src="~/Scripts/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jqueryui-1.10.0.min.js"></script>

    <script type="text/javascript" src="~/Scripts/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/jquery.flot.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/jquery.flot.stack.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/jquery.flot.pie.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/jquery.flot.resize.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/jquery.form.js"></script>
    <script src="~/Scripts/html2canvas/html2canvas.js"></script>
    <style type="text/css">
        #Reports table thead tr th {
            font-size: 15px !important;
        }

        path.highcharts-tracker {
            display: none;
        }

        g.highcharts-tracker, g.highcharts-tooltip, path[isShadow] {
            display: none;
        }

        .main-content {
            left: 0 !important;
        }

        body {
            background-color: #F6F6F6;
        }
    </style>
</head>
<body>
    <div class="main-content">
        <div class="breadcrumb-container">
            <ul class="xbreadcrumbs"></ul>
        </div>
        <!-- Page Heading Start-->
        <!-- Page Heading Start-->
        <header>
            <i class="icon-big-notepad"></i>
            <h2><small>@EPMS.WebModels.Resources.Reports.CustomerReport.DetailTitle</small></h2>
        </header>
        <!-- Page Heading End-->

        <form class="form-horizontal">
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span12">
                        @Html.HiddenFor(m => m.ReportId, new { @id = "ReportId" })
                        <table id="CustomerList" class="table table-striped table-responsive">
                            <thead>
                                <tr>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.Serial</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.CustomerName</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.Mobile</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.Email</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.FromTo</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.CustomerSince</th>
                                    <th>@EPMS.WebModels.Resources.Reports.CustomerReport.NoOfComplaints</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var customer in @Model.Customers.ToList())
                                {
                                    serial = serial + 1;
                                    <tr>
                                        <td>@serial</td>
                                        <td>
                                            @if (direction == "ltr")
                                            {
                                                @customer.CustomerNameE
                                            }
                                            else
                                            {
                                                @customer.CustomerNameA
                                            }
                                        </td>
                                        <td>@customer.CustomerMobile</td>
                                        <td>@customer.Email</td>
                                        <td>
                                            @if (customer.RecCreatedDt != null)
                                            {
                                                @customer.RecCreatedDt.Value.ToString("dd/mm/yyyy")
                                            }
                                        </td>
                                        <td>
                                            @if (customer.RecCreatedDt != null)
                                            {
                                                @customer.RecCreatedDt.Value.ToString("dd/mm/yyyy")
                                            }
                                        </td>
                                        <td>@customer.ComplaintsCount</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>

    </div>
</body>
</html>

<script>
    $(document).ready(function () {
        $('#CustomerList').dataTable({
            "sPaginationType": "bootstrap",
            "aoColumns": [
                null, // cloumn to be hide
                null, // not hide
                null,
                null,
                null,
                null,
                null
            ],
            "fnInitComplete": function () {
                $(".dataTables_wrapper select").select2({
                    dropdownCssClass: 'noSearch'
                });
            },
        });
        $("#simpleSelectBox").select2({
            dropdownCssClass: 'noSearch'
        });
    });
</script>