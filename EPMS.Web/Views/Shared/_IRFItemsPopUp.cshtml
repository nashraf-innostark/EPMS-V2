@{
    var direction = EPMS.Web.Resources.Shared.Common.TextDirection;
}
<div id="itemSearcher" class="modal hide fade treeSelector">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Item Search</h3>
    </div>
    <div class="modal-body ">
        <form class="form-horizontal">
            <div id="Simple_Select_Box_with_Filter_Search" class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label" for="selectBoxFilter">Select Item</label>
                </div>
                <div class="span6">
                    <div class="controls">
                        @Html.DropDownList("ItemVariationDropDownList", new SelectList(Model.ItemVariationDropDownList, "ItemVariationId", "ItemCodeSKUCode"), "", new { @class = "select2me", @id = "RFIItemVariationDropDownList" })
                    </div>
                    <label id="RFIItemVariationDropDownListValidation"></label>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span4">
                    <label class="control-label" for="selectBoxFilter">Item Tree Selector</label>
                </div>
                <div class="span8 span-inset">
                    <button type="button" class="btn itemAdder" data-toggle="modal" data-target="#itemTreeSelector">+</button>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span9 ">
                    <label class="control-label">
                        <input type="checkbox" class="uniformCheckbox" value="checkbox1" style="margin: -1px 2px 0px 0px;">Add Item Description
                    </label>

                    <label class="control-label">
                        <input type="checkbox" class="uniformCheckbox" value="checkbox1" style="margin: -1px 2px 0px 0px;">Add Item SKU
                    </label>
                </div>
            </div>
            <!--Simple Multiple Select Box end-->
        </form>
    </div>
    <div class="modal-footer">
        <a href="javascript:;" class="btn btn-primary" id="Add">Add</a>
        <a href="javascript:;" class="btn" data-dismiss="modal">Cancel</a>
    </div>
</div>
<div id="itemTreeSelector" class="modal hide fade treeSelector">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Place in Departments</h3>
    </div>
    <div class="modal-body ">
        <form class="form-horizontal">
            <div class="sidebarMenuHolder">
                <div class="JStree">
                    <div class="Jstree_shadow_top"></div>
                    <div id="jstree"></div>
                    <div class="Jstree_shadow_bottom"></div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="javascript:;" class="btn btn-primary">Select</a>
        <a href="javascript:;" class="btn" data-dismiss="modal">Cancel</a>
    </div>
</div>

<script type="text/javascript">
    var dir = '@direction';
    $(function () {
        var treeInitialData;
        if (dir == "ltr") {
            treeInitialData = [
                {
                    "data": {
                        "title": "Departments",
                        "attr": { "href": "#", "onclick": "jsTreeClick(event)" }
                    },
                    "attr": { "id": "parentNode" },
                }
            ];
        } else {
            treeInitialData = [
                {
                    "data": {
                        "title": "الإدارات",
                        "attr": { "href": "#", "onclick": "jsTreeClick(event)" }
                    },
                    "attr": { "id": "parentNode" },
                }
            ];
        }
        $("#jstree").jstree({
            "json_data": {
                "data": treeInitialData
            },
            "plugins": ["themes", "json_data", "ui"],
            "ui": {
                "initially_select": ["parentNode"]
            },
            "core": {
                "initially_open": ["parentNode"]
            }
        });
        var requestUrl = siteUrl + "/Inventory/InventoryDepartment/GetAllDepartments";
        populateTree(0, "jstree", requestUrl);
        $("#Add").on("click", function () {
            if (validateSelect2DDL("#RFIItemVariationDropDownList")) {
                getModalControlsValues();
            }
        });
    });
    function validateSelect2DDL(control) {
        var counter = 0;
        control = $(control);
        var selectedId = $(control).val();
        if (selectedId == null || selectedId == "" || selectedId == 0) {
            $("#" + control.attr('id') + "Validation").text('@EPMS.Web.Resources.Shared.Common.RequiredDdlField');
            $("#" + control.attr('id') + "Validation").addClass("Error");
            counter++;
            return false;
        } else {
            $("#" + control.attr('id') + "Validation").text("");
            $("#" + control.attr('id') + "Validation").removeClass("Error");
        }
        return true;
    };
</script>